<div class="contest-search">
	<md-input placeholder="Поиск" class="contest-search-input" [(ngModel)]="name"></md-input>
</div>

<div *ngIf="isDataAvailable" class="contests">
	<div *ngIf="contests.length==0" class="contests-error">
		<p>Sorry! But database is not available now!</p>
	</div>
	<md-card class="contest-card">
		<a [routerLink]="['/form', 0]" class=contest-card__href>
			<div class="contest-card__picture">
				<div class="item-card-icon-plus">
					
					<svg width="64" height="64" viewBox="0 0 52 52" xml:space="preserve">
						<path d="M26,0C11.664,0,0,11.663,0,26s11.664,26,26,26s26-11.663,26-26S40.336,0,26,0z M26,50C12.767,50,2,39.233,2,26
							S12.767,2,26,2s24,10.767,24,24S39.233,50,26,50z"/>
						<path d="M38.5,25H27V14c0-0.553-0.448-1-1-1s-1,0.447-1,1v11H13.5c-0.552,0-1,0.447-1,1s0.448,1,1,1H25v12c0,0.553,0.448,1,1,1
							s1-0.447,1-1V27h11.5c0.552,0,1-0.447,1-1S39.052,25,38.5,25z"/>
					</svg>
				</div>
			</div>
			<md-card-title class="contest-card__title">
	           	<span>Добавить конкурс</span>
	       	</md-card-title>
	    </a>
	</md-card>
	<md-card *ngFor="let contest of contests | contestsNameFilter:name " class="contest-card">
		<a [routerLink]="['/form', contest.id]" class=contest-card__href>
			<div class="contest-card__picture" [ngStyle]="{'background-image': 'url('+ backgroungUrl + contest.id+'/'+contest.logo + ')'}"></div>
			<md-card-title class="contest-card__title">
	           	<span>{{contest.name}}</span>
	       	</md-card-title>
	       	<md-card-content class="contest-card__content">
	       		<p class="contest-card__date">
	       			{{contest.date | date:"dd.MM.yyyy"}}
	       		</p>
	       		<p class="contest-card__description" *ngIf="contest.description">
	       			{{contest.description}}
	       		</p>
	       	</md-card-content>
	    </a>
	    <md-card-actions class="contest-card-actions">
	    	<a [routerLink]="['/form', contest.id]" class="contest-card-action"  *ngIf="contest.id>0" title="Редактировать">
	            <svg width="24" height="24">
	                    <use xlink:href="#edit"></use>
	            </svg>   
            </a>
            <span class="contest-card-action" *ngIf="contest.id>0" title="Удалить">
                <svg width="24" height="24">
                    <use xlink:href="#delete"></use>
                </svg>   
            </span>
        </md-card-actions>
	</md-card>
</div>
